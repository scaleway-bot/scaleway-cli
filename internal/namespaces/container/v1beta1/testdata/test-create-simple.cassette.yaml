---
version: 1
interactions:
- request:
    body: '{"id":"dd6cb597-6885-4da9-b8c1-effbd4641489","name":"cli-cns-brave-hypatia","environment_variables":{},"organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","status":"pending","registry_namespace_id":"","error_message":null,"registry_endpoint":"","description":"","secret_environment_variables":[],"tags":[],"created_at":"2025-05-19T11:09:15.671231786Z","updated_at":"2025-05-19T11:09:15.671231786Z","region":"fr-par"}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.3; darwin; arm64) cli-e2e-test
    url: https://api-pl-waw.scaleway.com/containers/v1beta1/regions/fr-par/namespaces
    method: POST
  response:
    body: '{"id":"dd6cb597-6885-4da9-b8c1-effbd4641489","name":"cli-cns-brave-hypatia","environment_variables":{},"organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","status":"pending","registry_namespace_id":"","error_message":null,"registry_endpoint":"","description":"","secret_environment_variables":[],"tags":[],"created_at":"2025-05-19T11:09:15.671231786Z","updated_at":"2025-05-19T11:09:15.671231786Z","region":"fr-par"}'
    headers:
      Content-Length:
      - "473"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Mon, 19 May 2025 11:09:15 GMT
      Server:
      - Scaleway API Gateway (pl-waw-2;edge02)
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 71edd93d-bc80-494e-8a44-5ae3b3ac112b
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: '{"id":"dd6cb597-6885-4da9-b8c1-effbd4641489","name":"cli-cns-brave-hypatia","environment_variables":{},"organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","status":"pending","registry_namespace_id":"","error_message":null,"registry_endpoint":"","description":"","secret_environment_variables":[],"tags":[],"created_at":"2025-05-19T11:09:15.671232Z","updated_at":"2025-05-19T11:09:15.671232Z","region":"fr-par"}'
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.3; darwin; arm64) cli-e2e-test
    url: https://api-pl-waw.scaleway.com/containers/v1beta1/regions/fr-par/namespaces/dd6cb597-6885-4da9-b8c1-effbd4641489
    method: GET
  response:
    body: '{"id":"dd6cb597-6885-4da9-b8c1-effbd4641489","name":"cli-cns-brave-hypatia","environment_variables":{},"organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","status":"pending","registry_namespace_id":"","error_message":null,"registry_endpoint":"","description":"","secret_environment_variables":[],"tags":[],"created_at":"2025-05-19T11:09:15.671232Z","updated_at":"2025-05-19T11:09:15.671232Z","region":"fr-par"}'
    headers:
      Content-Length:
      - "467"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Mon, 19 May 2025 11:09:15 GMT
      Server:
      - Scaleway API Gateway (pl-waw-2;edge02)
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 66740b5a-0126-4351-8bc2-3d531ed40ab8
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: '{"id":"dd6cb597-6885-4da9-b8c1-effbd4641489","name":"cli-cns-brave-hypatia","environment_variables":{},"organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","status":"ready","registry_namespace_id":"1fbc0352-accc-40cc-9633-feb174e1e33f","error_message":null,"registry_endpoint":"rg.fr-par.scw.cloud/funcscwclicnsbravehypatiaqxvrhdir","description":"","secret_environment_variables":[],"tags":[],"created_at":"2025-05-19T11:09:15.671232Z","updated_at":"2025-05-19T11:09:17.064131Z","region":"fr-par"}'
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.3; darwin; arm64) cli-e2e-test
    url: https://api-pl-waw.scaleway.com/containers/v1beta1/regions/fr-par/namespaces/dd6cb597-6885-4da9-b8c1-effbd4641489
    method: GET
  response:
    body: '{"id":"dd6cb597-6885-4da9-b8c1-effbd4641489","name":"cli-cns-brave-hypatia","environment_variables":{},"organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","status":"ready","registry_namespace_id":"1fbc0352-accc-40cc-9633-feb174e1e33f","error_message":null,"registry_endpoint":"rg.fr-par.scw.cloud/funcscwclicnsbravehypatiaqxvrhdir","description":"","secret_environment_variables":[],"tags":[],"created_at":"2025-05-19T11:09:15.671232Z","updated_at":"2025-05-19T11:09:17.064131Z","region":"fr-par"}'
    headers:
      Content-Length:
      - "554"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Mon, 19 May 2025 11:09:21 GMT
      Server:
      - Scaleway API Gateway (pl-waw-2;edge02)
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - a8bf0aa9-4b63-4c27-bcc4-cdd9f3ddf25f
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: '{"id":"75fa8f1e-aacd-497d-935c-8d95f8110bd3","name":"cli-test-hungry-gould","namespace_id":"dd6cb597-6885-4da9-b8c1-effbd4641489","status":"created","environment_variables":{},"min_scale":0,"max_scale":5,"memory_limit":2048,"cpu_limit":1000,"timeout":"300s","error_message":null,"privacy":"public","description":"","registry_image":"rg.fr-par.scw.cloud/funcscwclicnsbravehypatiaqxvrhdir/cli-test-hungry-gould:latest","max_concurrency":50,"domain_name":"clicnsbravehypatiaqxvrhdir-cli-test-hungry-gould.functions.fnc.fr-par.scw.cloud","protocol":"http1","port":8080,"secret_environment_variables":[],"http_option":"enabled","sandbox":"v2","local_storage_limit":1000,"scaling_option":{"concurrent_requests_threshold":50},"created_at":"2025-05-19T11:09:21.437285632Z","updated_at":"2025-05-19T11:09:21.437285632Z","ready_at":null,"health_check":{"failure_threshold":30,"interval":"10s","tcp":{}},"tags":[],"region":"fr-par"}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.3; darwin; arm64) cli-e2e-test
    url: https://api-pl-waw.scaleway.com/containers/v1beta1/regions/fr-par/containers
    method: POST
  response:
    body: '{"id":"75fa8f1e-aacd-497d-935c-8d95f8110bd3","name":"cli-test-hungry-gould","namespace_id":"dd6cb597-6885-4da9-b8c1-effbd4641489","status":"created","environment_variables":{},"min_scale":0,"max_scale":5,"memory_limit":2048,"cpu_limit":1000,"timeout":"300s","error_message":null,"privacy":"public","description":"","registry_image":"rg.fr-par.scw.cloud/funcscwclicnsbravehypatiaqxvrhdir/cli-test-hungry-gould:latest","max_concurrency":50,"domain_name":"clicnsbravehypatiaqxvrhdir-cli-test-hungry-gould.functions.fnc.fr-par.scw.cloud","protocol":"http1","port":8080,"secret_environment_variables":[],"http_option":"enabled","sandbox":"v2","local_storage_limit":1000,"scaling_option":{"concurrent_requests_threshold":50},"created_at":"2025-05-19T11:09:21.437285632Z","updated_at":"2025-05-19T11:09:21.437285632Z","ready_at":null,"health_check":{"failure_threshold":30,"interval":"10s","tcp":{}},"tags":[],"region":"fr-par"}'
    headers:
      Content-Length:
      - "921"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Mon, 19 May 2025 11:09:21 GMT
      Server:
      - Scaleway API Gateway (pl-waw-2;edge02)
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - af0db38e-89d3-42e1-98ce-b1acd27e382e
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: '{"id":"75fa8f1e-aacd-497d-935c-8d95f8110bd3","name":"cli-test-hungry-gould","namespace_id":"dd6cb597-6885-4da9-b8c1-effbd4641489","status":"pending","environment_variables":{},"min_scale":0,"max_scale":5,"memory_limit":2048,"cpu_limit":1000,"timeout":"300s","error_message":null,"privacy":"public","description":"","registry_image":"rg.fr-par.scw.cloud/funcscwclicnsbravehypatiaqxvrhdir/cli-test-hungry-gould:latest","max_concurrency":50,"domain_name":"clicnsbravehypatiaqxvrhdir-cli-test-hungry-gould.functions.fnc.fr-par.scw.cloud","protocol":"http1","port":8080,"secret_environment_variables":[],"http_option":"enabled","sandbox":"v2","local_storage_limit":1000,"scaling_option":{"concurrent_requests_threshold":50},"created_at":"2025-05-19T11:09:21.437286Z","updated_at":"2025-05-19T11:09:21.641184520Z","ready_at":null,"health_check":{"failure_threshold":30,"interval":"10s","tcp":{}},"tags":[],"region":"fr-par"}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.3; darwin; arm64) cli-e2e-test
    url: https://api-pl-waw.scaleway.com/containers/v1beta1/regions/fr-par/containers/75fa8f1e-aacd-497d-935c-8d95f8110bd3/deploy
    method: POST
  response:
    body: '{"id":"75fa8f1e-aacd-497d-935c-8d95f8110bd3","name":"cli-test-hungry-gould","namespace_id":"dd6cb597-6885-4da9-b8c1-effbd4641489","status":"pending","environment_variables":{},"min_scale":0,"max_scale":5,"memory_limit":2048,"cpu_limit":1000,"timeout":"300s","error_message":null,"privacy":"public","description":"","registry_image":"rg.fr-par.scw.cloud/funcscwclicnsbravehypatiaqxvrhdir/cli-test-hungry-gould:latest","max_concurrency":50,"domain_name":"clicnsbravehypatiaqxvrhdir-cli-test-hungry-gould.functions.fnc.fr-par.scw.cloud","protocol":"http1","port":8080,"secret_environment_variables":[],"http_option":"enabled","sandbox":"v2","local_storage_limit":1000,"scaling_option":{"concurrent_requests_threshold":50},"created_at":"2025-05-19T11:09:21.437286Z","updated_at":"2025-05-19T11:09:21.641184520Z","ready_at":null,"health_check":{"failure_threshold":30,"interval":"10s","tcp":{}},"tags":[],"region":"fr-par"}'
    headers:
      Content-Length:
      - "918"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Mon, 19 May 2025 11:09:21 GMT
      Server:
      - Scaleway API Gateway (pl-waw-2;edge02)
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - a428ac26-24b0-4933-ae08-27f1eac3c713
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: '{"id":"dd6cb597-6885-4da9-b8c1-effbd4641489","name":"cli-cns-brave-hypatia","environment_variables":{},"organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","status":"deleting","registry_namespace_id":"1fbc0352-accc-40cc-9633-feb174e1e33f","error_message":null,"registry_endpoint":"rg.fr-par.scw.cloud/funcscwclicnsbravehypatiaqxvrhdir","description":"","secret_environment_variables":[],"tags":[],"created_at":"2025-05-19T11:09:15.671232Z","updated_at":"2025-05-19T11:09:21.838110334Z","region":"fr-par"}'
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.3; darwin; arm64) cli-e2e-test
    url: https://api-pl-waw.scaleway.com/containers/v1beta1/regions/fr-par/namespaces/dd6cb597-6885-4da9-b8c1-effbd4641489
    method: DELETE
  response:
    body: '{"id":"dd6cb597-6885-4da9-b8c1-effbd4641489","name":"cli-cns-brave-hypatia","environment_variables":{},"organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","status":"deleting","registry_namespace_id":"1fbc0352-accc-40cc-9633-feb174e1e33f","error_message":null,"registry_endpoint":"rg.fr-par.scw.cloud/funcscwclicnsbravehypatiaqxvrhdir","description":"","secret_environment_variables":[],"tags":[],"created_at":"2025-05-19T11:09:15.671232Z","updated_at":"2025-05-19T11:09:21.838110334Z","region":"fr-par"}'
    headers:
      Content-Length:
      - "560"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Mon, 19 May 2025 11:09:22 GMT
      Server:
      - Scaleway API Gateway (pl-waw-2;edge02)
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 3c7d9456-3451-42c3-af31-a910e8a93567
    status: 200 OK
    code: 200
    duration: ""
